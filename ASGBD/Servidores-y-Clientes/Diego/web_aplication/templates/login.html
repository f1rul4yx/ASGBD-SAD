{% extends 'base.html' %}

{% block title %}Login{% endblock %}

{% block content %}

    <h1>Login</h1>
    <p>Introduce los datos de un usuario que esté en la base de datos</p>

    {#
      Formulario de login:
      - action="{{ url_for('login') }}" -> envía el formulario a la ruta 'login' (la misma vista).
      - method="post" -> usamos POST para que las credenciales no aparezcan en la URL.
      - name="username" y name="password" -> claves con las que accederás a request.form en app.py.
      - required -> atributo HTML que evita enviar el formulario vacío (validación en cliente).
    #}
    <form action="{{ url_for('login') }}" method="post">

        <label for="username">Usuario:</label>
        {# id="username" facilita asociar label y seleccionar el campo desde JS o CSS #}
        <input type="text" id="username" name="username" required><br><br>

        <label for="password">Contraseña:</label>
        <input type="password" id="password" name="password" required><br><br>

        <button type="submit">Iniciar sesión</button>

    </form>

    {#
      Si la vista ha pasado una variable 'error' (p.ej. credenciales incorrectas),
      la mostramos aquí en rojo. 'error' se define en app.py cuando ocurre un fallo.
    #}
    {% if error %}
        <p style="color: red;">{{ error }}</p>
    {% endif %}

{% endblock %}