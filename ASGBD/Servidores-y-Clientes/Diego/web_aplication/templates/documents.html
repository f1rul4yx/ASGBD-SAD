{# Extiende la plantilla base #}
{% extends 'base.html' %}

{# Título dinámico que incluye el nombre de la colección #}
{% block title %}Documentos en {{ nombre }}{% endblock %}

{% block content %}

    <h1>Documentos en la colección: {{ nombre }}</h1>

    {# 
       Si la variable 'documentos' contiene elementos, los mostramos en una lista.
       Cada 'doc' es un diccionario (BSON convertido a dict). Usamos el filtro tojson
       para convertir el documento a JSON legible y correctamente escapado.
    #}
    {% if documentos %}
        <ul>
            {% for doc in documentos %}
            <li>
                {#
                  tojson(indent=2) convierte el objeto Python a una cadena JSON:
                  - indent=2 añade sangría para que sea más legible
                  - además tojson se encarga de escapar caracteres peligrosos para HTML
                #}
                <pre>{{ doc | tojson(indent=2) }}</pre>
            </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No hay documentos en esta colección.</p>
    {% endif %}

    {# Volver al login: en tu flujo actual logout limpia la sesión, este enlace simplemente navega al login #}
    <a href="{{ url_for('login') }}">Volver al login</a>

{% endblock %}